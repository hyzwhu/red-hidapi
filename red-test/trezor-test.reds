Red/System []

#include %red-hidapi.reds

;-- Test ledger nano s --

dev: hid/open 534Ch 0001h null
?? dev

data: [
	#"^(00)" #"?" #"#" #"#" #"^(00)" #"^(00)"
	#"^(00)" #"^(00)" #"^(00)" #"^(00)" #"^(00)" #"^(00)" #"^(00)" #"^(00)"#"^(00)"
	#"^(00)" #"^(00)" #"^(00)" #"^(00)" #"^(00)" #"^(00)" #"^(00)" #"^(00)"#"^(00)"
	#"^(00)" #"^(00)" #"^(00)" #"^(00)" #"^(00)" #"^(00)" #"^(00)" #"^(00)"#"^(00)"
	#"^(00)" #"^(00)" #"^(00)" #"^(00)" #"^(00)" #"^(00)" #"^(00)" #"^(00)"#"^(00)"
	#"^(00)" #"^(00)" #"^(00)" #"^(00)" #"^(00)" #"^(00)" #"^(00)" #"^(00)"#"^(00)"
	#"^(00)" #"^(00)" #"^(00)" #"^(00)" #"^(00)" #"^(00)" #"^(00)" #"^(00)"#"^(00)"
	#"^(00)" #"^(00)" #"^(00)" #"^(00)" #"^(00)"
]

probe ["size: " size? data]
hid/write dev data size? data

dd: allocate 1024
set-memory dd null-byte 1024
probe "jdkfjaskldf"
probe hid/read-timeout dev dd 1024 1000
dump-hex dd
